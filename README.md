![Logo](images/ZPIF.png "Logo ZPIF")

# Описание формата файла ZPIF

Растровый формат хранения графической информации ZPIF (ZerProjectImageFormat) обладает следующими характеристиками:

## Структура формата

Файл состоит из двух основных частей:

1. **Параметры изображения**: задают основные свойства файла.
2. **Команды**: определяют начало данных пикселей и окончание файла.

## Параметры изображения

Параметры записываются в фигурных скобках `{}`. Каждый параметр имеет имя и значение. Значение записывается в круглых скобках `()`, где имя задаёт тип параметра, а значение его содержание. 

### Поддерживаются следующие параметры

#### Обязательные параметры:

- `{format} (ZPIFv1)` - Формат файла. Указывает тип изображения.
- `{mode} (RGB)` - Режим отображения. Поддерживается пока только RGB.
- `{width} (1920)` - Ширина изображения в пикселях.
- `{height} (1080)` - Высота изображения в пикселях.
- `{compression} (RLE)` - Метод сжатия. Если отсутствует, значение по умолчанию — `0`. Поддерживается пока только RLE.

#### Необязательные параметры:

- `{data} (2025-01-04)` - Дата создания файла.
- `{time} (14:30:00)` - Время создания файла.
- `{data_unix} (1735691400)` - Дата и время в формате UNIX.

## Команды

Команды записываются в формате `@@` и определяют структуру данных изображения:

- `@start@` - Определяет начало данных пикселей.
- `@end@` - Определяет конец файла.

## Порядок записи

1. Сначала записываются параметры изображения в произвольном порядке.
2. После параметров идёт команда `@start@`, указывающая на начало данных пикселей.
3. В конце файла записывается команда `@end@`.

## Данные пикселей

- Пиксели записываются в формате `[0-255 0-255 0-255]`, где значения представляют интенсивности цветов RGB.
- При использовании сжатия RLE перед описанием пикселя могут использоваться круглые скобки `()`, содержащие количество повторяющихся пикселей. Пример: `(10)[255 0 0]` означает 10 красных пикселей подряд.
- Пиксели записываются слева направо, сверху вниз.

## Пример 1 файла ZPIF:

```zpif
{format} (zpifv1)
{mode} (rgb)
{width} (4)
{height} (2)
{compression} (RLE)
{data} (2025-01-04)
{time} (14:30:00)
{data_unix} (1735691400)
@start@
(5) [255 0 0]
[0 255 0]
(2) [0 0 255]
@end@
```

## Пример 2 файла ZPIF:

```zpif
{f} (zpifv1)
{m} (rgb)
{w} (2)
{h} (2)
{c} (0)
@s@
[255 0 0]
[255 0 0]
[0 255 0]
[0 0 255]
@e@
```

## Примечания

1. У параметров и команд есть сокращения до одной первой буквы (кроме `data_unix`, его сокращение — `u`).
